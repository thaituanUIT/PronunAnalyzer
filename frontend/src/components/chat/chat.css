:root {
  /* fallback values; real values come from globals.css variables */
  --chat-bg: var(--color-cardBackground, #1a1a1a);
  --chat-text: var(--color-textPrimary, #ffffff);
  --chat-muted: var(--color-textSecondary, #cccccc);
  --chat-accent: var(--color-accent, #00ff41);
  --chat-input-bg: var(--color-inputBackground, #2a2a2a);
  --chat-input-border: var(--color-inputBorder, #555555);
  --chat-error: var(--color-error, #ef4444);
}

.chat-container {
  background: var(--chat-bg);
  padding: 20px;
  border-radius: 12px;
}

.chat-messages-list {
  height: 420px;
  overflow-y: auto;
  padding: 8px 12px;
  border-radius: 8px;
  background: transparent;
}

.chat-message-item {
  display: flex;
  padding: 6px 8px;
}

.chat-message-item.user {
  justify-content: flex-end;
}

.chat-message-item.assistant {
  justify-content: flex-start;
}

.chat-message-bubble {
  max-width: 78%;
  background: var(--chat-assistant-bg, var(--chat-bg));
  color: var(--chat-assistant-text, var(--chat-text));
  padding: 10px 14px;
  border-radius: 12px;
  box-shadow: 0 4px 12px rgba(0,0,0,0.2);
}

.chat-message-item.user .chat-message-bubble {
  background: var(--chat-user-bg, var(--chat-accent));
  color: var(--chat-user-text, #000);
}

.chat-message-text {
  white-space: pre-wrap;
  line-height: 1.5;
}

.chat-message-sources {
  margin-top: 8px;
  font-size: 12px;
  color: rgba(255,255,255,0.65);
}

.chat-input-row {
  display: flex;
  gap: 8px;
  margin-top: 12px;
}

.chat-input {
  flex: 1;
  padding: 10px 12px;
  border-radius: 8px;
  background: var(--chat-input-bg);
  color: var(--chat-text);
  border: 1px solid var(--chat-input-border);
}

.chat-send-button {
  padding: 10px 14px;
  border-radius: 8px;
  background: var(--chat-accent);
  border: none;
  cursor: pointer;
  font-weight: 700;
}

.chat-error {
  margin-top: 8px;
  color: var(--chat-error);
}

/* Theme-specific overrides using data-theme attribute set by ThemeContext */
[data-theme="dark"] .chat-container {
  /* dark theme defaults are already set from globals, just expose helper vars */
  --chat-assistant-bg: rgba(255,255,255,0.03); /* subtle contrast from card background */
  --chat-assistant-text: var(--color-textPrimary);
  --chat-user-bg: var(--color-accent);
  --chat-user-text: #000; /* accent is bright, use dark text for readability */
}

[data-theme="light"] .chat-container {
  /* light theme: white/blue look */
  --chat-assistant-bg: var(--color-cardBackground, #ffffff);
  --chat-assistant-text: var(--color-textPrimary, #0f1724);
  --chat-user-bg: var(--color-accent, #2563eb); /* light theme accent is blue */
  --chat-user-text: #ffffff; /* white text on blue bubble */
}
